(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{257:function(t,e,o){var content=o(285);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(51).default)("3aa408cc",content,!0,{sourceMap:!1})},258:function(t,e,o){var content=o(287);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(51).default)("ed42931c",content,!0,{sourceMap:!1})},284:function(t,e,o){"use strict";o(257)},285:function(t,e,o){var n=o(50)(!1);n.push([t.i,"[draggable=true][data-v-c5396a38]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[data-v-c5396a38]::-webkit-scrollbar{width:5px}[data-v-c5396a38]::-webkit-scrollbar-track{background:#f4ece6}[data-v-c5396a38]::-webkit-scrollbar-thumb{background:#fcfbfa}[data-v-c5396a38]::-webkit-scrollbar-thumb:hover{background:#e6dacd}.warning-border[data-v-c5396a38]{border-color:red!important}.all-view[data-v-c5396a38]{min-width:1200px;min-height:550px;padding:20px;display:flex;height:calc(var(--real100vh) - 40px);background-color:#f4ece6}.all-view .select-view[data-v-c5396a38]{flex:2;display:flex;flex-direction:column}.all-view .select-view .message-list[data-v-c5396a38]{flex:7;overflow-y:scroll;margin-bottom:10px;border:2px solid #e6dacd}.all-view .select-view .message-list .item[data-v-c5396a38]{margin:15px;height:40px;background-color:#fcfbfa;border:2px solid #e6dacd;border-radius:20px;cursor:pointer;line-height:40px;text-align:center;overflow:hidden}.all-view .select-view .action-list[data-v-c5396a38]{flex:3;overflow-y:scroll;border:2px solid #e6dacd}.all-view .select-view .action-list .item[data-v-c5396a38]{margin:15px;height:40px;background-color:#fcfbfa;border:2px solid #e6dacd;border-radius:20px;cursor:move;line-height:40px;text-align:center;overflow:hidden}.all-view .compose-view[data-v-c5396a38]{flex:6}.all-view .compose-view .compose-inblock[data-v-c5396a38]{margin-left:30px;margin-right:30px;padding-bottom:10px;height:calc(var(--real100vh) - 50px);overflow-y:scroll}.all-view .compose-view .compose-inblock .list-group .carousel-column[data-v-c5396a38]{margin-top:10px}.all-view .compose-view .compose-inblock .list-group .item[data-v-c5396a38]{background-color:#fcfbfa;border:2px solid #e6dacd}.all-view .compose-view .compose-inblock .list-group .item[data-v-c5396a38]:not(:last-child){margin-bottom:5px}.all-view .compose-view .compose-inblock .list-group .item .title-block[data-v-c5396a38]{width:calc(100% - 20px);height:40px;margin:0 10px 10px;display:flex}.all-view .compose-view .compose-inblock .list-group .item .title-block[data-v-c5396a38]:first-child{margin-top:10px}.all-view .compose-view .compose-inblock .list-group .item .title-block .title[data-v-c5396a38]{background-color:#e6dacd;line-height:40px;text-align:center;width:calc(100% - 50px);cursor:pointer;position:relative;padding-left:40px;padding-right:40px;overflow:hidden}.all-view .compose-view .compose-inblock .list-group .item .title-block .delete[data-v-c5396a38]{background-color:#bfcbd9;margin-left:10px;height:40px;width:40px;cursor:pointer}.all-view .compose-view .compose-inblock .list-group .item .title-block .delete[data-v-c5396a38]:hover{background-color:red}.all-view .compose-view .compose-inblock .list-group .item .title-block .delete svg[data-v-c5396a38]{margin:5px;height:30px;width:30px;color:#fcfbfa}.all-view .compose-view .compose-inblock .list-group .item .content-block[data-v-c5396a38]{margin:10px}.all-view .compose-view .compose-inblock .list-group .item .content-block .list-group[data-v-c5396a38]{margin-left:30px}.all-view .compose-view .compose-inblock .list-group .item .bar-icon[data-v-c5396a38]{position:absolute;top:0;left:0;height:20px;width:20px;padding:10px;cursor:move}.all-view .show-view[data-v-c5396a38]{flex:3;height:100%}.all-view .show-view .setting-block[data-v-c5396a38]{height:40px;display:flex;padding:0 20px 10px}.all-view .show-view .setting-block .button-block[data-v-c5396a38]{flex:1;height:40px;text-align:center}.all-view .show-view .setting-block .button-block .npm-transform-chatbot-message-kit-button[data-v-c5396a38],.all-view .show-view .setting-block .button-block .setting-button[data-v-c5396a38]{line-height:36px;background-color:#fcfbfa;border:2px solid #e6dacd;border-radius:20px;cursor:pointer;max-width:120px;margin:auto}.all-view .show-view .setting-block .button-block .npm-transform-chatbot-message-kit-button[data-v-c5396a38]:hover,.all-view .show-view .setting-block .button-block .setting-button[data-v-c5396a38]:hover{background-color:#e6dacd}.all-view .show-view .change-view[data-v-c5396a38]{margin-top:10px;width:100%;height:30px;border:2px solid #e6dacd}.all-view .show-view .json-view[data-v-c5396a38]{margin-top:10px;height:calc(100% - 100px);border:2px solid #e6dacd;background-color:#fcfbfa;overflow-y:scroll}.all-view .show-view .json-view[data-v-c5396a38]::-webkit-scrollbar-track{background:#fcfbfa}.all-view .show-view .json-view[data-v-c5396a38]::-webkit-scrollbar-thumb{background:#f4ece6}.all-view .show-view .json-view[data-v-c5396a38]::-webkit-scrollbar-thumb:hover{background:#e6dacd}.all-view .show-view .json-view .jv-code[data-v-c5396a38]{padding:0}.all-view .show-view .text-view[data-v-c5396a38]{margin-top:10px;height:calc(100% - 100px);width:100%;position:relative;font-family:Consolas,Menlo,Courier,monospace;font-size:14px}.all-view .show-view .text-view .copy-button-block[data-v-c5396a38]{position:absolute;right:20px}.all-view .show-view .text-view .copy-button-block .copy-button[data-v-c5396a38]{cursor:pointer;display:inline-block;padding:7px;z-index:5;color:#49b3ff}.all-view .show-view .text-view .copy-button-block .copied[data-v-c5396a38]{opacity:.4;cursor:default}.all-view .show-view .text-view .textarea-input-box[data-v-c5396a38]{height:calc(100% - 64px);width:calc(100% - 44px);padding:30px 20px;border:2px solid #e6dacd;background-color:#fcfbfa;overflow-y:scroll;resize:none;word-break:break-all}.all-view .show-view .text-view .textarea-input-box[data-v-c5396a38]::-webkit-scrollbar-track{background:#fcfbfa}.all-view .show-view .text-view .textarea-input-box[data-v-c5396a38]::-webkit-scrollbar-thumb{background:#f4ece6}.all-view .show-view .text-view .textarea-input-box[data-v-c5396a38]::-webkit-scrollbar-thumb:hover{background:#e6dacd}.input-block[data-v-c5396a38]{min-height:40px;margin-bottom:10px;width:100%;display:flex;flex-direction:row}.input-block .input-description[data-v-c5396a38]{flex:1;display:flex;align-items:center;justify-content:center;text-align:center;background-color:#e6dacd;cursor:default;overflow:hidden}.input-block .input-description-action[data-v-c5396a38]{cursor:move}.input-block .input-description-small-font-size[data-v-c5396a38]{font-size:13px}.input-block .input-content[data-v-c5396a38]{flex:4;min-height:40px;border-color:#e6dacd;border-style:solid;line-height:25px}.input-block .input-content-action[data-v-c5396a38]{flex:2;border-color:#e6dacd;border-style:solid;border-right:0;height:34px;line-height:34px}.input-block .input-content-action-delete[data-v-c5396a38]{background-color:#bfcbd9;border:2px solid #e6dacd;height:36px;width:36px;cursor:pointer}.input-block .input-content-action-delete[data-v-c5396a38]:hover{background-color:red}.input-block .input-content-action-delete svg[data-v-c5396a38]{margin:5px;height:30px;width:30px;color:#fcfbfa}.input-block .input-description-title[data-v-c5396a38]{position:relative;cursor:pointer}.add-template-button-block[data-v-c5396a38]{margin-top:10px}.add-template-button-block .add-template-button[data-v-c5396a38]{cursor:pointer;border:2px solid #e6dacd;background-color:#fcfbfa}.add-template-button-block .add-template-button[data-v-c5396a38]:hover{background-color:#e6dacd}.checkbox-block[data-v-c5396a38]{height:40px;line-height:40px}input[data-v-c5396a38]:focus,select[data-v-c5396a38]:focus,textarea[data-v-c5396a38]:focus{outline-color:#b17c43}",""]),t.exports=n},286:function(t,e,o){"use strict";o(258)},287:function(t,e,o){var n=o(50)(!1);n.push([t.i,".setting-modal{display:flex;flex-direction:column;padding:20px}.setting-modal .list{height:50px}.setting-modal .list:not(:last-child){margin-bottom:10px}.setting-modal .toggle-button{flex:1}.setting-modal .toggle-button .v-switch-core{margin:auto;top:9px}.setting-modal .empty-block{flex:2}.setting-modal .setting-annotation-block{height:20px}.setting-modal .setting-annotation-block .setting-annotation{line-height:20px;text-align:right;font-size:12px}",""]),t.exports=n},292:function(t,e,o){"use strict";o.r(e);o(37),o(31),o(36),o(52),o(53);var n=o(17),l=o(23),c=o(22),r=(o(32),o(263),o(40),o(179),o(65),o(265)),d=o.n(r),v=o(267),m=o.n(v),h=o(269),f=o(276),k=o.n(f);function x(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C={components:{draggable:d.a,JsonViewer:m.a},data:function(){return{types:[{title:"文字訊息 Text",type:"text"},{title:"圖片訊息 Image",type:"image"},{title:"影片訊息 Video",type:"video"},{title:"聲音訊息 Audio",type:"audio"},{title:"按鈕訊息 Button",type:"button"},{title:"輪播訊息 Carousel",type:"carousel"}],actions:[{title:"Postback",type:"postback"},{title:"Url",type:"url"},{title:"Phone",type:"phone"}],messages:[],showPage:"json",showViewList:[{key:"json",value:"共用 Messages"},{key:"line-json",value:"Line Messages"},{key:"facebook-json",value:"Facebook Messages"},{key:"slack-json",value:"Slack Messages"},{key:"import-json",value:"匯入共用 Messages"},{key:"line-curl",value:"Line Curl 指令"},{key:"facebook-curl",value:"Facebook Curl 指令"},{key:"slack-curl",value:"Slack Curl 指令"}],cacheMessages:!1,isCopied:!1,useCurlDataRowOption:!1,useLineFlex:!1,lineToken:"",lineUserID:"",facebookPageAccessToken:"",facebookSenderPSID:"",slackWebhookUrl:""}},computed:{typeName:function(){var t={};return this.types.forEach((function(e){var o=e.type,title=e.title;t[o]=title})),t},transformToLine:function(){return Object(h.transformToLineMessages)(this.messages,{flex:this.useLineFlex})},transformToFacebook:function(){return Object(h.transformToFacebookMessages)(this.messages)},transformToSlack:function(){return Object(h.transformToSlackMessages)(this.messages)},renderTextView:function(){var text;if("line-json"===this.showPage)text=k()(this.transformToLine);else if("facebook-json"===this.showPage)text=k()(this.transformToFacebook);else if("slack-json"===this.showPage)text=k()(this.transformToSlack);else if("json"===this.showPage){var t=k()(this.messages);text=this.clearMessagesKey(t)}else if("import-json"===this.showPage){var e=k()(this.messages);text=JSON.stringify(this.clearMessagesKey(e),null,4)}else"line-curl"===this.showPage?(text=this.composeLineCurlCommand(this.transformToLine),this.lineToken&&(text=text.replaceAll("{{LINE_TOKEN}}",this.lineToken)),this.lineUserID&&(text=text.replaceAll("{{LINE_USER_ID}}",this.lineUserID))):"facebook-curl"===this.showPage?(text=this.composeFacebookCurlCommand(this.transformToFacebook),this.facebookPageAccessToken&&(text=text.replaceAll("{{FB_PAGE_ACCESS_TOKEN}}",this.facebookPageAccessToken)),this.facebookSenderPSID&&(text=text.replaceAll("{{FB_SENDER_PSID}}",this.facebookSenderPSID))):"slack-curl"===this.showPage&&(text=this.composeSlackCurlCommand(this.transformToSlack),this.slackWebhookUrl&&(text=text.replaceAll("{{SLACK_WEBHOOK_URL}}",this.slackWebhookUrl)));return text}},watch:{showPage:function(t){this.storage({showPage:t})},messages:{handler:function(t){this.cacheMessages?this.storage({messages:t}):this.storage({messages:[]})},deep:!0},cacheMessages:function(t){this.storage({cacheMessages:t}),t?this.storage({messages:this.messages}):this.storage({messages:[]})},lineToken:function(t){this.storage({lineToken:t})},lineUserID:function(t){this.storage({lineUserID:t})},facebookPageAccessToken:function(t){this.storage({facebookPageAccessToken:t})},facebookSenderPSID:function(t){this.storage({facebookSenderPSID:t})},slackWebhookUrl:function(t){this.storage({slackWebhookUrl:t})},useCurlDataRowOption:function(t){this.storage({useCurlDataRowOption:t})},useLineFlex:function(t){this.storage({useLineFlex:t})}},created:function(){if(localStorage.key("chatbotConfig")){var t=this.storage();Object.assign(this,t)}},methods:{addMessage:function(t){switch(t){case"text":return{collapseOpen:!0,type:"text",text:""};case"image":return{collapseOpen:!0,type:"image",imageUrl:"",previewImageUrl:""};case"video":return{collapseOpen:!0,type:"video",videoUrl:"",previewImageUrl:""};case"audio":return{collapseOpen:!0,type:"audio",audioUrl:"",duration:0};case"button":return{collapseOpen:!0,type:"button",altText:"",title:"",text:"",buttons:[this.addAction("postback")]};case"carousel":return{collapseOpen:!0,type:"carousel",altText:"",columns:[{collapseOpen:!0,title:"",text:"",imageUrl:"",buttons:[this.addAction("postback")]}]};default:return{}}},addAction:function(t){switch(t){case"postback":return{type:"postback",title:"",data:""};case"url":return{type:"url",title:"",url:""};case"phone":return{type:"phone",title:"",number:""};default:return{}}},addCarousel:function(t){this.messages[t].columns.length<10&&this.messages[t].columns.push({collapseOpen:!0,title:"",text:"",imageUrl:"",buttons:[this.addAction("postback")]})},cloneMessage:function(t){var e=t.type;return this.addMessage(e)},clickToAddMessage:function(t){var e=this.addMessage(t);this.messages.push(e)},cloneAction:function(t){var e=t.type;return this.addAction(e)},checkJsonAndReturnJson:function(t){var e=t.target.value||t.srcElement.value||"[]";try{this.messages=this.makeUpMessageKey(JSON.parse(e)),document.querySelector(".textarea-input-box").classList.remove("warning-border")}catch(t){document.querySelector(".textarea-input-box").classList.add("warning-border")}},storage:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var o=localStorage.getItem("chatbotConfig");t=JSON.parse(o)}catch(e){t={}}return t=w(w({},t),e),localStorage.setItem("chatbotConfig",JSON.stringify(t)),t},clearMessagesKey:function(t){var e=this;return"object"===Object(l.a)(t)&&"boolean"==typeof t.collapseOpen&&delete t.collapseOpen,"object"===Object(l.a)(t)&&"number"==typeof t.length?t=t.map((function(t){return e.clearMessagesKey(t)})):"object"===Object(l.a)(t)&&Object.entries(t).forEach((function(o){var c=Object(n.a)(o,2),r=c[0],d=c[1];"object"===Object(l.a)(d)&&(d=e.clearMessagesKey(d)),t[r]=d})),t},makeUpMessageKey:function(t){return t=t.map((function(t){return"carousel"===t.type&&(t.columns=t.columns.map((function(t){return w(w({},t),{},{collapseOpen:true})}))),w(w({},t),{},{collapseOpen:true})}))},openNPMKit:function(){window.open("https://www.npmjs.com/package/@chi0307/transform-chatbot-message","_blank")},copyToClipboard:function(t){var e=document.querySelector(t).value,o=document.createElement("textarea");o.value=e,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},copyTextArea:function(){var t=this;this.isCopied=!0,setTimeout((function(){t.isCopied=!1}),2e3),this.copyToClipboard(".textarea-input-box")},composeCurlData:function(t){return this.useCurlDataRowOption?"--data-raw '\n".concat(JSON.stringify(t,null,2),"'"):"--data '".concat(JSON.stringify(t),"'")},composeLineCurlCommand:function(t){var e="curl -X POST 'https://api.line.me/v2/bot/message/push' \\\n";e+="--header 'Authorization: Bearer {{LINE_TOKEN}}' \\\n",e+="--header 'Content-Type: application/json' \\\n";var o={to:"{{LINE_USER_ID}}",messages:t};return e+=this.composeCurlData(o)},composeFacebookCurlCommand:function(t){var e=this,o="";return t.forEach((function(n,l){o+="curl -X POST 'https://graph.facebook.com/v2.6/me/messages?access_token={{FB_PAGE_ACCESS_TOKEN}}' \\\n",o+="--header 'Content-Type: application/json' \\\n";var c={recipient:{id:"{{FB_SENDER_PSID}}"},message:n};o+=e.composeCurlData(c),l+1!==t.length&&(o+=" &&\n\n")})),o},composeSlackCurlCommand:function(t){var e="curl -X POST '{{SLACK_WEBHOOK_URL}}' \\\n";e+="--header 'Content-Type: application/json' \\\n";var o={blocks:t};return e+=this.composeCurlData(o)}}},_=(o(284),o(286),o(29)),component=Object(_.a)(C,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"all-view"},[o("div",{staticClass:"select-view"},[o("div",{staticClass:"message-list"},[o("draggable",{staticClass:"list-group",attrs:{value:t.types,group:{name:"messages",pull:"clone",put:!1},clone:t.cloneMessage}},t._l(t.types,(function(e,n){var title=e.title,l=e.type;return o("div",{key:n,staticClass:"item",on:{click:function(e){return t.clickToAddMessage(l)}}},[t._v("\n          "+t._s(title)+"\n        ")])})),0)],1),t._v(" "),o("div",{staticClass:"action-list"},[o("draggable",{staticClass:"list-group",attrs:{value:t.actions,group:{name:"actions",pull:"clone",put:!1},clone:t.cloneAction}},t._l(t.actions,(function(e,n){var title=e.title;return o("div",{key:n,staticClass:"item"},[t._v("\n          "+t._s(title)+"\n        ")])})),0)],1)]),t._v(" "),o("div",{staticClass:"compose-view"},[o("div",{staticClass:"compose-inblock"},[o("draggable",{staticClass:"list-group",attrs:{list:t.messages,group:"messages",handle:".handle"}},t._l(t.messages,(function(e,n){return o("div",{key:n,staticClass:"item"},[o("div",{staticClass:"title-block"},[o("div",{staticClass:"title",on:{click:function(t){e.collapseOpen=!e.collapseOpen}}},[o("FontAwesomeIcon",{staticClass:"icon handle bar-icon",attrs:{icon:["fa","align-justify"]}}),t._v("\n              "+t._s(t.typeName[e.type])+"\n            ")],1),t._v(" "),o("div",{staticClass:"delete",on:{click:function(e){return t.messages.splice(n,1)}}},[o("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","times"]}})],1)]),t._v(" "),o("CollapseTransition",[o("div",{directives:[{name:"show",rawName:"v-show",value:e.collapseOpen,expression:"message.collapseOpen"}],staticClass:"content-block"},["text"===e.type?o("div",[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                    訊息\n                  ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",model:{value:e.text,callback:function(o){t.$set(e,"text",o)},expression:"message.text"}})],1)]):"image"===e.type?o("div",[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                    圖片 URL\n                  ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",attrs:{placeholder:"https://"},model:{value:e.imageUrl,callback:function(o){t.$set(e,"imageUrl",o)},expression:"message.imageUrl"}})],1),t._v(" "),o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                    預覽圖片 URL\n                  ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",attrs:{placeholder:"https://"},model:{value:e.previewImageUrl,callback:function(o){t.$set(e,"previewImageUrl",o)},expression:"message.previewImageUrl"}})],1)]):"video"===e.type?o("div",[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                    影片 URL\n                  ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",attrs:{placeholder:"https://"},model:{value:e.videoUrl,callback:function(o){t.$set(e,"videoUrl",o)},expression:"message.videoUrl"}})],1),t._v(" "),o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                    預覽圖片 URL\n                  ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",attrs:{placeholder:"https://"},model:{value:e.previewImageUrl,callback:function(o){t.$set(e,"previewImageUrl",o)},expression:"message.previewImageUrl"}})],1)]):"audio"===e.type?o("div",[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                    音檔 URL\n                  ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",attrs:{placeholder:"https://"},model:{value:e.audioUrl,callback:function(o){t.$set(e,"audioUrl",o)},expression:"message.audioUrl"}})],1),t._v(" "),o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                    音檔長度 (ms)\n                  ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.number",value:e.duration,expression:"message.duration",modifiers:{number:!0}}],staticClass:"input-content",attrs:{type:"text"},domProps:{value:e.duration},on:{input:function(o){o.target.composing||t.$set(e,"duration",t._n(o.target.value))},blur:function(e){return t.$forceUpdate()}}})])]):"button"===e.type?o("div",[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                    替代文字\n                  ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",attrs:{placeholder:"line 訊息替代文字"},model:{value:e.altText,callback:function(o){t.$set(e,"altText",o)},expression:"message.altText"}})],1),t._v(" "),o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                    標題\n                  ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",attrs:{placeholder:"(Optional)"},model:{value:e.title,callback:function(o){t.$set(e,"title",o)},expression:"message.title"}})],1),t._v(" "),o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                    內文\n                  ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",model:{value:e.text,callback:function(o){t.$set(e,"text",o)},expression:"message.text"}})],1),t._v(" "),o("draggable",{staticClass:"list-group",attrs:{list:e.buttons,group:"actions",handle:".input-description"}},t._l(e.buttons,(function(button,n){return o("div",{key:n},["postback"===button.type?o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description input-description-action"},[t._v("\n                        PostBack\n                      ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.title,expression:"button.title"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"顯示文字"},domProps:{value:button.title},on:{input:function(e){e.target.composing||t.$set(button,"title",e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.data,expression:"button.data"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"回覆資料"},domProps:{value:button.data},on:{input:function(e){e.target.composing||t.$set(button,"data",e.target.value)}}}),t._v(" "),o("div",{staticClass:"input-content-action-delete",on:{click:function(t){return e.buttons.splice(n,1)}}},[o("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","times"]}})],1)]):"url"===button.type?o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description input-description-action"},[t._v("\n                        Url\n                      ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.title,expression:"button.title"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"顯示文字"},domProps:{value:button.title},on:{input:function(e){e.target.composing||t.$set(button,"title",e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.url,expression:"button.url"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"https://"},domProps:{value:button.url},on:{input:function(e){e.target.composing||t.$set(button,"url",e.target.value)}}}),t._v(" "),o("div",{staticClass:"input-content-action-delete",on:{click:function(t){return e.buttons.splice(n,1)}}},[o("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","times"]}})],1)]):"phone"===button.type?o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description input-description-action"},[t._v("\n                        Phone\n                      ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.title,expression:"button.title"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"顯示文字"},domProps:{value:button.title},on:{input:function(e){e.target.composing||t.$set(button,"title",e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.number,expression:"button.number"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"+886912345678"},domProps:{value:button.number},on:{input:function(e){e.target.composing||t.$set(button,"number",e.target.value)}}}),t._v(" "),o("div",{staticClass:"input-content-action-delete",on:{click:function(t){return e.buttons.splice(n,1)}}},[o("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","times"]}})],1)]):t._e()])})),0)],1):"carousel"===e.type?o("div",[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                    替代文字\n                  ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",attrs:{placeholder:"line 訊息替代文字"},model:{value:e.altText,callback:function(o){t.$set(e,"altText",o)},expression:"message.altText"}})],1),t._v(" "),o("draggable",{staticClass:"list-group",attrs:{group:"carousels",handle:".carousel-handle"},model:{value:e.columns,callback:function(o){t.$set(e,"columns",o)},expression:"message.columns"}},t._l(e.columns,(function(n,l){return o("div",{key:l,staticClass:"carousel-column"},[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description input-description-title",on:{click:function(t){n.collapseOpen=!n.collapseOpen}}},[o("FontAwesomeIcon",{staticClass:"icon carousel-handle bar-icon",attrs:{icon:["fa","align-justify"]}}),t._v("\n                        輪播模板 "+t._s(l+1)+"\n                      ")],1),t._v(" "),o("div",{staticClass:"input-content-action-delete",on:{click:function(t){return e.columns.splice(l,1)}}},[o("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","times"]}})],1)]),t._v(" "),o("CollapseTransition",[o("div",{directives:[{name:"show",rawName:"v-show",value:n.collapseOpen,expression:"column.collapseOpen"}]},[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                            標題\n                          ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",attrs:{placeholder:"標題、內文二選一必填 (Optional)"},model:{value:n.title,callback:function(e){t.$set(n,"title",e)},expression:"column.title"}})],1),t._v(" "),o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                            內文\n                          ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",attrs:{placeholder:"標題、內文二選一必填 (Optional)"},model:{value:n.text,callback:function(e){t.$set(n,"text",e)},expression:"column.text"}})],1),t._v(" "),o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n                            圖片 Url\n                          ")]),t._v(" "),o("textarea-autosize",{staticClass:"input-content",attrs:{placeholder:" (Optional)，https://"},model:{value:n.imageUrl,callback:function(e){t.$set(n,"imageUrl",e)},expression:"column.imageUrl"}})],1),t._v(" "),o("draggable",{staticClass:"list-group",attrs:{list:n.buttons,group:"actions",handle:".input-description"}},t._l(n.buttons,(function(button,e){return o("div",{key:e},["postback"===button.type?o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description input-description-action"},[t._v("\n                                PostBack\n                              ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.title,expression:"button.title"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"顯示文字"},domProps:{value:button.title},on:{input:function(e){e.target.composing||t.$set(button,"title",e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.data,expression:"button.data"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"回覆資料"},domProps:{value:button.data},on:{input:function(e){e.target.composing||t.$set(button,"data",e.target.value)}}}),t._v(" "),o("div",{staticClass:"input-content-action-delete",on:{click:function(t){return n.buttons.splice(e,1)}}},[o("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","times"]}})],1)]):"url"===button.type?o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description input-description-action"},[t._v("\n                                Url\n                              ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.title,expression:"button.title"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"顯示文字"},domProps:{value:button.title},on:{input:function(e){e.target.composing||t.$set(button,"title",e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.url,expression:"button.url"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"https://"},domProps:{value:button.url},on:{input:function(e){e.target.composing||t.$set(button,"url",e.target.value)}}}),t._v(" "),o("div",{staticClass:"input-content-action-delete",on:{click:function(t){return n.buttons.splice(e,1)}}},[o("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","times"]}})],1)]):"phone"===button.type?o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description input-description-action"},[t._v("\n                                Phone\n                              ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.title,expression:"button.title"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"顯示文字"},domProps:{value:button.title},on:{input:function(e){e.target.composing||t.$set(button,"title",e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:button.number,expression:"button.number"}],staticClass:"input-content-action",attrs:{type:"text",placeholder:"+886912345678"},domProps:{value:button.number},on:{input:function(e){e.target.composing||t.$set(button,"number",e.target.value)}}}),t._v(" "),o("div",{staticClass:"input-content-action-delete",on:{click:function(t){return n.buttons.splice(e,1)}}},[o("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","times"]}})],1)]):t._e()])})),0)],1)])],1)})),0),t._v(" "),e.columns.length<10?o("div",{staticClass:"input-block add-template-button-block"},[o("p",{staticClass:"input-description add-template-button",on:{click:function(e){return t.addCarousel(n)}}},[t._v("\n                    新增模板\n                  ")])]):t._e()],1):t._e()])])],1)})),0)],1)]),t._v(" "),o("div",{staticClass:"show-view"},[o("div",{staticClass:"setting-block"},[o("div",{staticClass:"button-block"},[o("div",{staticClass:"npm-transform-chatbot-message-kit-button",on:{click:function(e){return t.openNPMKit()}}},[t._v("\n          搭配套件\n        ")])]),t._v(" "),o("div",{staticClass:"button-block"},[o("div",{staticClass:"setting-button",on:{click:function(e){return t.$modal.show("setting-modal")}}},[t._v("\n          設定\n        ")])])]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.showPage,expression:"showPage"}],staticClass:"change-view",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.showPage=e.target.multiple?o:o[0]}}},t._l(t.showViewList,(function(e,n){var l=e.key,c=e.value;return o("option",{key:n,domProps:{value:l}},[t._v("\n        "+t._s(c)+"\n      ")])})),0),t._v(" "),["json","line-json","facebook-json","slack-json"].includes(t.showPage)?o("JsonViewer",{staticClass:"json-view",attrs:{value:t.renderTextView,expandDepth:1/0,previewMode:!0,copyable:""}}):["import-json","line-curl","facebook-curl","slack-curl"].includes(t.showPage)?o("div",{staticClass:"text-view"},[o("span",{staticClass:"copy-button-block"},[o("span",{class:{"copy-button":!0,copied:t.isCopied},on:{click:function(e){return t.copyTextArea()}}},[t._v("\n          "+t._s(t.isCopied?"copied!":"copy")+"\n        ")])]),t._v(" "),o("textarea",{staticClass:"textarea-input-box",attrs:{disabled:["line-curl","facebook-curl","slack-curl"].includes(t.showPage)},domProps:{value:t.renderTextView},on:{change:t.checkJsonAndReturnJson}})]):t._e()],1),t._v(" "),o("modal",{attrs:{name:"setting-modal",classes:"setting-modal",height:"auto",width:"700px"}},[o("div",{staticClass:"list"},[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n          是否保存訊息\n        ")]),t._v(" "),o("toggle-button",{staticClass:"toggle-button",attrs:{color:"#42b983"},model:{value:t.cacheMessages,callback:function(e){t.cacheMessages=e},expression:"cacheMessages"}}),t._v(" "),o("p",{staticClass:"input-description input-description-small-font-size"},[t._v("\n          使用 curl --data-raw\n        ")]),t._v(" "),o("toggle-button",{staticClass:"toggle-button",attrs:{color:"#42b983"},model:{value:t.useCurlDataRowOption,callback:function(e){t.useCurlDataRowOption=e},expression:"useCurlDataRowOption"}})],1)]),t._v(" "),o("div",{staticClass:"list"},[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description input-description-small-font-size"},[t._v("\n          Line 訊息使用 flex\n        ")]),t._v(" "),o("toggle-button",{staticClass:"toggle-button",attrs:{color:"#42b983"},model:{value:t.useLineFlex,callback:function(e){t.useLineFlex=e},expression:"useLineFlex"}}),t._v(" "),o("p",{staticClass:"empty-block"})],1)]),t._v(" "),o("div",{staticClass:"list"},[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n          Line Token\n        ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.lineToken,expression:"lineToken"}],staticClass:"input-content",attrs:{type:"text"},domProps:{value:t.lineToken},on:{input:function(e){e.target.composing||(t.lineToken=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"list"},[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description"},[t._v("\n          Line User ID\n        ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.lineUserID,expression:"lineUserID"}],staticClass:"input-content",attrs:{type:"text"},domProps:{value:t.lineUserID},on:{input:function(e){e.target.composing||(t.lineUserID=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"list"},[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description input-description-small-font-size"},[t._v("\n          Fb Access Token\n        ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.facebookPageAccessToken,expression:"facebookPageAccessToken"}],staticClass:"input-content",attrs:{type:"text"},domProps:{value:t.facebookPageAccessToken},on:{input:function(e){e.target.composing||(t.facebookPageAccessToken=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"list"},[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description input-description-small-font-size"},[t._v("\n          Fb sender PSID\n        ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.facebookSenderPSID,expression:"facebookSenderPSID"}],staticClass:"input-content",attrs:{type:"text"},domProps:{value:t.facebookSenderPSID},on:{input:function(e){e.target.composing||(t.facebookSenderPSID=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"list"},[o("div",{staticClass:"input-block"},[o("p",{staticClass:"input-description input-description-small-font-size"},[t._v("\n          Slack Webhook URL\n        ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.slackWebhookUrl,expression:"slackWebhookUrl"}],staticClass:"input-content",attrs:{type:"text"},domProps:{value:t.slackWebhookUrl},on:{input:function(e){e.target.composing||(t.slackWebhookUrl=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"list setting-annotation-block"},[o("p",{staticClass:"setting-annotation"},[t._v("\n        以上資料只會保留在瀏覽器 localStorage 給 curl 指令測試用\n      ")])])])],1)}),[],!1,null,"c5396a38",null);e.default=component.exports}}]);